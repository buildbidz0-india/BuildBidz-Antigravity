(()=>{var e={};e.id=618,e.ids=[618],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},13517:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(29915),a(13321),a(59468),a(35866);var s=a(23191),r=a(88716),i=a(37922),n=a.n(i),o=a(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d=["",{children:["dashboard",{children:["projects",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,29915)),"C:\\Users\\user\\.gemini\\antigravity\\scratch\\BuildBidz-Antigravity\\frontend\\web\\app\\dashboard\\projects\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,13321)),"C:\\Users\\user\\.gemini\\antigravity\\scratch\\BuildBidz-Antigravity\\frontend\\web\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,59468)),"C:\\Users\\user\\.gemini\\antigravity\\scratch\\BuildBidz-Antigravity\\frontend\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\user\\.gemini\\antigravity\\scratch\\BuildBidz-Antigravity\\frontend\\web\\app\\dashboard\\projects\\[id]\\page.tsx"],x="/dashboard/projects/[id]/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/projects/[id]/page",pathname:"/dashboard/projects/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},75200:(e,t,a)=>{Promise.resolve().then(a.bind(a,61914))},61914:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>z});var s=a(10326),r=a(16856),i=a(62881);let n=(0,i.Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),o=(0,i.Z)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var l=a(88378),d=a(83855);let c=(0,i.Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),x=(0,i.Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var m=a(48998),p=a(24061),u=a(90434),h=a(35047),g=a(17577),y=a(1572),b=a(44006);let j=(0,i.Z)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),f=(0,i.Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var v=a(41291),w=a(77506);let N=(0,i.Z)("file-up",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);var k=a(6824);function C(){let[e,t]=(0,g.useState)(""),[a,i]=(0,g.useState)(!1),[n,o]=(0,g.useState)("idle"),l=async()=>{if(e.trim()&&!a){i(!0),o("idle");try{await k.n.ingest(e),o("success"),t(""),setTimeout(()=>o("idle"),3e3)}catch(e){console.error("Ingestion failed:",e),o("error")}finally{i(!1)}}};return(0,s.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600",children:s.jsx(j,{size:20})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900",children:"Knowledge Ingestion"}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Feed data to your Project Copilot"})]})]})}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Pasted Text / Snippet"}),s.jsx("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:"Paste technical requirements, safety rules, or site notes here...",className:"w-full h-40 p-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-orange-600 focus:bg-white transition-all outline-none text-sm resize-none"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"p-1 px-2.5 bg-blue-50 text-blue-600 rounded-lg text-[10px] font-bold uppercase tracking-wider flex items-center",children:[s.jsx(y.Z,{size:10,className:"mr-1"}),"Auto-Indexed"]}),"success"===n&&(0,s.jsxs)(r.E.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-green-600 text-xs font-bold flex items-center",children:[s.jsx(f,{size:14,className:"mr-1"}),"Successfully indexed!"]}),"error"===n&&(0,s.jsxs)(r.E.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-red-600 text-xs font-bold flex items-center",children:[s.jsx(v.Z,{size:14,className:"mr-1"}),"Failed to index."]})]}),(0,s.jsxs)("button",{onClick:l,disabled:a||!e.trim(),className:"flex items-center px-6 py-2.5 bg-gray-900 text-white rounded-xl font-bold text-sm hover:bg-black transition-all disabled:opacity-50 disabled:cursor-not-allowed group transition-all active:scale-95",children:[a?s.jsx(w.Z,{size:18,className:"animate-spin mr-2"}):s.jsx(N,{size:18,className:"mr-2 group-hover:-translate-y-0.5 transition-transform"}),"Index Knowledge"]})]})]}),(0,s.jsxs)("div",{className:"px-6 py-4 bg-orange-50/50 border-t border-orange-100 flex items-start space-x-3",children:[s.jsx(y.Z,{size:16,className:"text-orange-600 mt-0.5"}),s.jsx("p",{className:"text-[11px] text-orange-800 leading-relaxed font-medium",children:"Once indexed, the Project Copilot will be able to retrieve this information when answering questions. indexing typically takes less than a minute."})]})]})}var P=a(49085);function S(e){return{id:e.id,name:e.name,location:e.location,status:e.status,progress:e.progress,description:e.description,team:e.team??[],milestones:e.milestones??[]}}function z(){let{id:e}=(0,h.useParams)(),[t,a]=(0,g.useState)(!1),[i,j]=(0,g.useState)("Updates"),[f,v]=(0,g.useState)(null),[w,N]=(0,g.useState)(!0),[z,A]=(0,g.useState)(!1),[M,q]=(0,g.useState)(!1),[Z,E]=(0,g.useState)({name:"",role:""}),[T,F]=(0,g.useState)({name:"",date:"",completed:!1}),[I,$]=(0,g.useState)(!1),R=(0,g.useCallback)(async()=>{if(e){if(Number.isNaN("string"==typeof e?parseInt(e,10):NaN)){let t=(0,P.R)(e);v(t?S(t):null);return}try{let t="string"==typeof e?e:e?.[0]??"",a=await k.q.getById(t);if(a)v(S({...a,team:a.team??[],milestones:a.milestones??[]}));else{let t=(0,P.R)(e);v(t?S(t):null)}}catch{let t=(0,P.R)(e);v(t?S(t):null)}}},[e]),_=async t=>{if(t.preventDefault(),f&&e&&Z.name.trim()){$(!0);try{let t={name:Z.name.trim(),role:Z.role.trim()||"Member",initials:Z.name.trim().split(/\s+/).map(e=>e[0]).slice(0,2).join("").toUpperCase()||"?"},a="string"==typeof e?e:e?.[0]??"";await k.q.update(a,{team:[...f.team,t]}),E({name:"",role:""}),A(!1),await R()}finally{$(!1)}}},B=async t=>{if(t.preventDefault(),f&&e&&T.name.trim()){$(!0);try{let t={name:T.name.trim(),date:T.date||"TBD",completed:T.completed},a="string"==typeof e?e:e?.[0]??"";await k.q.update(a,{milestones:[...f.milestones,t]}),F({name:"",date:"",completed:!1}),q(!1),await R()}finally{$(!1)}}};return w?(0,s.jsxs)("div",{className:"space-y-8",children:[s.jsx("div",{className:"h-8 w-48 bg-gray-100 rounded animate-pulse"}),s.jsx("div",{className:"h-64 bg-gray-100 rounded-2xl animate-pulse"})]}):f?(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx(u.default,{href:"/dashboard/projects",className:"p-2 hover:bg-white rounded-xl transition-colors text-gray-400 hover:text-gray-600 border border-transparent hover:border-gray-200",children:s.jsx(n,{size:20})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:f.name}),s.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-bold uppercase tracking-wider ${"Active"===f.status?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:f.status})]}),s.jsx("p",{className:"text-gray-500 mt-1",children:f.location})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{className:"p-2.5 bg-white border border-gray-200 text-gray-600 rounded-xl hover:bg-gray-50 transition-colors",children:s.jsx(o,{size:20})}),s.jsx("button",{className:"p-2.5 bg-white border border-gray-200 text-gray-600 rounded-xl hover:bg-gray-50 transition-colors",children:s.jsx(l.Z,{size:20})}),(0,s.jsxs)("button",{className:"bg-orange-600 text-white px-5 py-2.5 rounded-xl font-semibold hover:bg-orange-700 transition-all shadow-lg shadow-orange-100 flex items-center",children:[s.jsx(d.Z,{size:20,className:"mr-2"}),"Add Update"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 text-wrap",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,s.jsxs)("div",{className:"bg-white p-8 rounded-2xl border border-gray-100 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Overall Progress"}),(0,s.jsxs)("span",{className:"text-2xl font-bold text-orange-600",children:[f.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3",children:s.jsx(r.E.div,{initial:{width:0},animate:{width:`${f.progress}%`},transition:{duration:1.5,ease:"easeOut"},className:"bg-orange-600 h-3 rounded-full shadow-sm"})}),s.jsx("p",{className:"mt-6 text-gray-600 leading-relaxed",children:f.description})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"flex border-b border-gray-100",children:["Updates","Drawings","RFIs","Finances","Knowledge"].map(e=>(0,s.jsxs)("button",{onClick:()=>j(e),className:`px-8 py-4 text-sm font-bold transition-all relative ${i===e?"text-orange-600":"text-gray-400 hover:text-gray-600"}`,children:[e,i===e&&s.jsx(r.E.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-orange-600"})]},e))}),s.jsx("div",{className:"p-8",children:"Knowledge"===i?s.jsx(C,{}):(0,s.jsxs)("div",{className:"text-center py-20 bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:[s.jsx(c,{className:"mx-auto text-gray-300 mb-4",size:48}),(0,s.jsxs)("h4",{className:"text-gray-900 font-bold",children:["No ",i.toLowerCase()," yet"]}),(0,s.jsxs)("p",{className:"text-gray-500 text-sm mt-1",children:["Start by adding a ","Updates"===i?"site photo":"document","."]})]})})]})]}),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Milestones"}),s.jsx("div",{className:"space-y-8",children:f.milestones.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start relative",children:[t<f.milestones.length-1&&s.jsx("div",{className:"absolute left-[11px] top-6 bottom-[-24px] w-0.5 bg-gray-100"}),s.jsx("div",{className:`mt-1 h-6 w-6 rounded-full flex items-center justify-center z-10 ${e.completed?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:e.completed?s.jsx(x,{size:14}):s.jsx(m.Z,{size:14})}),(0,s.jsxs)("div",{className:"ml-4",children:[s.jsx("p",{className:`text-sm font-bold ${e.completed?"text-gray-900":"text-gray-500"}`,children:e.name}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e.date})]})]},`${e.name}-${t}`))}),M?(0,s.jsxs)("form",{onSubmit:B,className:"mt-6 p-4 bg-gray-50 rounded-xl space-y-3",children:[s.jsx("input",{type:"text",required:!0,placeholder:"Milestone name",value:T.name,onChange:e=>F(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"}),s.jsx("input",{type:"text",placeholder:"Date (e.g. Q1 2025)",value:T.date,onChange:e=>F(t=>({...t,date:e.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:T.completed,onChange:e=>F(t=>({...t,completed:e.target.checked})),className:"rounded"}),"Completed"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>q(!1),className:"flex-1 py-2 text-gray-600 text-sm font-medium rounded-lg bg-white border border-gray-200",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:I,className:"flex-1 py-2 bg-orange-600 text-white text-sm font-medium rounded-lg hover:bg-orange-700 disabled:opacity-50",children:I?"Adding…":"Add"})]})]}):s.jsx("button",{type:"button",onClick:()=>q(!0),className:"w-full mt-6 py-2 bg-gray-50 hover:bg-gray-100 text-gray-600 text-sm font-bold rounded-xl transition-colors",children:"+ Add milestone"})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center",children:[s.jsx(p.Z,{size:20,className:"mr-2 text-gray-400"}),"Project Team"]}),s.jsx("div",{className:"space-y-4",children:f.team.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-xl bg-orange-100 flex items-center justify-center text-orange-600 font-bold text-sm",children:e.initials}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm font-bold text-gray-900 leading-none",children:e.name}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.role})]})]},`${e.name}-${t}`))}),z?(0,s.jsxs)("form",{onSubmit:_,className:"mt-6 p-4 bg-gray-50 rounded-xl space-y-3",children:[s.jsx("input",{type:"text",required:!0,placeholder:"Full name",value:Z.name,onChange:e=>E(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"}),s.jsx("input",{type:"text",placeholder:"Role",value:Z.role,onChange:e=>E(t=>({...t,role:e.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>A(!1),className:"flex-1 py-2 text-gray-600 text-sm font-medium rounded-lg bg-white border border-gray-200",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:I,className:"flex-1 py-2 bg-orange-600 text-white text-sm font-medium rounded-lg hover:bg-orange-700 disabled:opacity-50",children:I?"Adding…":"Add"})]})]}):s.jsx("button",{type:"button",onClick:()=>A(!0),className:"w-full mt-6 py-2 bg-gray-50 hover:bg-gray-100 text-gray-600 text-sm font-bold rounded-xl transition-colors",children:"+ Add team member"})]})]})]}),s.jsx("button",{onClick:()=>a(!0),className:"fixed bottom-8 right-8 p-4 bg-orange-600 text-white rounded-2xl shadow-2xl hover:bg-orange-700 transition-all hover:scale-110 active:scale-95 z-40 group",children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(y.Z,{size:24}),(0,s.jsxs)("div",{className:"absolute -top-12 right-0 bg-gray-900 text-white text-[10px] py-1 px-3 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:["Ask Project Copilot",s.jsx("div",{className:"absolute top-full right-4 border-4 border-transparent border-t-gray-900"})]})]})}),s.jsx(b.Z,{projectId:e,isOpen:t,onClose:()=>a(!1)})]}):s.jsx("div",{className:"space-y-8",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx(u.default,{href:"/dashboard/projects",className:"p-2 hover:bg-white rounded-xl transition-colors text-gray-400 hover:text-gray-600 border border-transparent hover:border-gray-200",children:s.jsx(n,{size:20})}),(0,s.jsxs)("div",{className:"bg-amber-50 border border-amber-200 text-amber-800 px-6 py-4 rounded-2xl",children:[s.jsx("p",{className:"font-semibold",children:"Project not found"}),s.jsx("p",{className:"text-sm mt-1",children:"The project you’re looking for doesn’t exist or was removed."})]})]})})}},44006:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var s=a(10326),r=a(17577),i=a(86462),n=a(16856),o=a(1572),l=a(94019),d=a(50732),c=a(79635),x=a(77506),m=a(69436),p=a(6824),u=a(77863);function h({projectId:e,isOpen:t,onClose:a}){let[h,g]=(0,r.useState)([]),[y,b]=(0,r.useState)(""),[j,f]=(0,r.useState)(!1),v=(0,r.useRef)(null),w=async()=>{if(!y.trim()||j)return;let e={role:"user",content:y};g(t=>[...t,e]),b(""),f(!0);try{let e=await p.n.ragChat(y),t={role:"assistant",content:e.content};g(e=>[...e,t])}catch(e){console.error("AI Chat error:",e),g(e=>[...e,{role:"assistant",content:"Sorry, I encountered an error. Please try again later."}])}finally{f(!1)}};return s.jsx(i.M,{children:t&&(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-6 right-6 w-[400px] h-[600px] bg-white rounded-3xl shadow-2xl border border-gray-100 flex flex-col z-50 overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-100 bg-orange-600 text-white flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-sm",children:s.jsx(o.Z,{size:20})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-bold text-lg leading-none",children:"Project Copilot"}),s.jsx("p",{className:"text-white/70 text-xs mt-1",children:"Experimental AI Assistant"})]})]}),s.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:s.jsx(l.Z,{size:20})})]}),(0,s.jsxs)("div",{ref:v,className:"flex-1 overflow-y-auto p-6 space-y-6 scroll-smooth",children:[0===h.length&&(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4 px-4",children:[s.jsx("div",{className:"w-16 h-16 bg-orange-50 rounded-2xl flex items-center justify-center text-orange-600",children:s.jsx(d.Z,{size:32})}),(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900",children:"How can I help today?"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Ask me anything about your project drawings, site updates, or safety protocols."})]})]}),h.map((e,t)=>(0,s.jsxs)(n.E.div,{initial:{opacity:0,x:"user"===e.role?10:-10},animate:{opacity:1,x:0},className:(0,u.cn)("flex items-start space-x-3","user"===e.role?"flex-row-reverse space-x-reverse":""),children:[s.jsx("div",{className:(0,u.cn)("flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold","user"===e.role?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"),children:"user"===e.role?s.jsx(c.Z,{size:16}):s.jsx(d.Z,{size:16})}),s.jsx("div",{className:(0,u.cn)("p-4 rounded-2xl text-sm leading-relaxed max-w-[80%]","user"===e.role?"bg-blue-600 text-white rounded-tr-none":"bg-gray-50 text-gray-800 rounded-tl-none border border-gray-100"),children:e.content})]},t)),j&&(0,s.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center text-orange-600",children:s.jsx(d.Z,{size:16})}),s.jsx("div",{className:"p-4 rounded-2xl bg-gray-50 text-gray-800 rounded-tl-none border border-gray-100",children:s.jsx(x.Z,{size:20,className:"animate-spin text-orange-600"})})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-100",children:(0,s.jsxs)("div",{className:"relative group",children:[s.jsx("input",{type:"text",value:y,onChange:e=>b(e.target.value),onKeyDown:e=>"Enter"===e.key&&w(),placeholder:"Ask your project assistant...",className:"w-full pl-5 pr-12 py-3.5 bg-gray-50 border border-gray-200 rounded-2xl focus:border-orange-600 focus:bg-white transition-all outline-none text-sm group-hover:border-gray-300"}),s.jsx("button",{onClick:w,disabled:j||!y.trim(),className:"absolute right-2 top-2 p-2 bg-orange-600 text-white rounded-xl hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(m.Z,{size:18})})]})})]})})}},6824:(e,t,a)=>{"use strict";a.d(t,{n:()=>i,q:()=>n});let s=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api/v1";async function r(){return{}}let i={chat:async(e,t,a)=>{let r=await fetch(`${s}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e,context:t,model:a})});if(!r.ok){let e=await r.json();throw Error(e.detail?.message||e.detail||"Failed to chat")}return r.json()},ragChat:async(e,t,a)=>{let r=await fetch(`${s}/ai/rag-chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,context:t,model:a})});if(!r.ok)throw Error((await r.json()).detail||"Failed to chat with AI");return r.json()},ingest:async(e,t={},a="default")=>{let r=await fetch(`${s}/ai/ingest`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,metadata:t,namespace:a})});if(!r.ok)throw Error((await r.json()).detail||"Failed to ingest document");return r.json()}},n={stats:async()=>{let e=await r(),t=await fetch(`${s}/projects/stats`,{headers:{...e}});if(!t.ok)throw Error((await t.json().catch(()=>({}))).detail||"Failed to load stats");return t.json()},list:async()=>{let e=await r(),t=await fetch(`${s}/projects`,{headers:{"Content-Type":"application/json",...e}});if(!t.ok)throw Error((await t.json().catch(()=>({}))).detail||"Failed to list projects");return(await t.json()).projects??[]},create:async e=>{let t=await r(),a=await fetch(`${s}/projects`,{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json().catch(()=>({}))).detail||"Failed to create project");return a.json()},getById:async e=>{let t=await r(),a=await fetch(`${s}/projects/${e}`,{headers:{...t}});if(404===a.status)return null;if(!a.ok)throw Error((await a.json().catch(()=>({}))).detail||"Failed to load project");return a.json()},update:async(e,t)=>{let a=await r(),i=await fetch(`${s}/projects/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",...a},body:JSON.stringify(t)});if(!i.ok)throw Error((await i.json().catch(()=>({}))).detail||"Failed to update project");return i.json()}}},49085:(e,t,a)=>{"use strict";a.d(t,{R:()=>r,w:()=>s});let s=[{id:1,name:"Mumbai Metro Extension",location:"Mumbai, MH",status:"Active",progress:35,teamCount:18,deadline:"Dec 2026",image:"https://images.unsplash.com/photo-1541888946425-d81bb19480c5?auto=format&fit=crop&q=80&w=400",description:"Phase 2 extension of the Mumbai Metro Line 3, covering 12km of elevated corridor and 8 stations.",team:[{name:"John Doe",role:"Project Manager",initials:"JD"},{name:"Sarah Smith",role:"Lead Architect",initials:"SS"},{name:"Raj Vyas",role:"Site Engineer",initials:"RV"}],milestones:[{name:"Foundation Work",date:"Oct 2024",completed:!0},{name:"Pillar Casting",date:"Jan 2025",completed:!0},{name:"Girder Launching",date:"June 2025",completed:!1},{name:"Station Finishing",date:"March 2026",completed:!1}]},{id:2,name:"DLF Cyber City - Tower C",location:"Gurgaon, HR",status:"Active",progress:68,teamCount:42,deadline:"Aug 2025",image:"https://images.unsplash.com/photo-1503387762-592dee58c190?auto=format&fit=crop&q=80&w=400",description:"Commercial tower C as part of DLF Cyber City complex. 28 floors with basement parking and retail podium.",team:[{name:"Amit Sharma",role:"Project Manager",initials:"AS"},{name:"Priya Nair",role:"Structural Engineer",initials:"PN"},{name:"Vikram Singh",role:"MEP Lead",initials:"VS"}],milestones:[{name:"Excavation & Piling",date:"Jun 2024",completed:!0},{name:"Core & Shell",date:"Dec 2024",completed:!0},{name:"Fa\xe7ade & MEP",date:"Apr 2025",completed:!1},{name:"Handover",date:"Aug 2025",completed:!1}]},{id:3,name:"Green Valley Residential",location:"Bangalore, KA",status:"Planning",progress:10,teamCount:5,deadline:"Mar 2027",image:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?auto=format&fit=crop&q=80&w=400",description:"Residential complex with 4 towers, clubhouse, and landscaped amenities. Pre-sales and approvals in progress.",team:[{name:"Kavitha Reddy",role:"Project Lead",initials:"KR"},{name:"Suresh Kumar",role:"Design Coordinator",initials:"SK"}],milestones:[{name:"RERA & Approvals",date:"Q1 2025",completed:!1},{name:"Groundbreaking",date:"Q3 2025",completed:!1},{name:"Tower 1 Foundation",date:"Q1 2026",completed:!1},{name:"Phase 1 Handover",date:"Mar 2027",completed:!1}]}];function r(e){if(null==e)return null;let t="string"==typeof e?parseInt(e,10):parseInt(e?.[0]??"",10);return Number.isNaN(t)?null:s.find(e=>e.id===t)??null}},83855:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},24061:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},29915:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`C:\Users\user\.gemini\antigravity\scratch\BuildBidz-Antigravity\frontend\web\app\dashboard\projects\[id]\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[185,404,453,666,13,988],()=>a(13517));module.exports=s})();