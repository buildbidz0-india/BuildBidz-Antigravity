(()=>{var e={};e.id=792,e.ids=[792],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},76294:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>l}),r(92509),r(13321),r(59468),r(35866);var a=r(23191),s=r(88716),i=r(37922),o=r.n(i),n=r(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let l=["",{children:["dashboard",{children:["compare",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,92509)),"C:\\Users\\user\\.gemini\\antigravity\\scratch\\BuildBidz-Antigravity\\frontend\\web\\app\\dashboard\\compare\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13321)),"C:\\Users\\user\\.gemini\\antigravity\\scratch\\BuildBidz-Antigravity\\frontend\\web\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,59468)),"C:\\Users\\user\\.gemini\\antigravity\\scratch\\BuildBidz-Antigravity\\frontend\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\user\\.gemini\\antigravity\\scratch\\BuildBidz-Antigravity\\frontend\\web\\app\\dashboard\\compare\\page.tsx"],p="/dashboard/compare/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/compare/page",pathname:"/dashboard/compare",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},17496:(e,t,r)=>{Promise.resolve().then(r.bind(r,50566))},50566:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(10326),s=r(17577),i=r(16856),o=r(83855),n=r(77506),d=r(40167),l=r(66307),c=r(6824),p=r(40381);let u=[{id:"1",supplier_name:"",price:0,delivery_days:0,reputation_score:5},{id:"2",supplier_name:"",price:0,delivery_days:0,reputation_score:5}];function h(){let[e,t]=(0,s.useState)("TMT Steel supply for Phase 1"),[r,h]=(0,s.useState)(u),[m,y]=(0,s.useState)(null),[x,g]=(0,s.useState)(!1),b=(e,t,r)=>{h(a=>a.map(a=>a.id===e?{...a,[t]:r}:a))},j=e=>{r.length<=2||(h(t=>t.filter(t=>t.id!==e)),y(null))},f=r.filter(e=>e.supplier_name.trim()&&e.price>0&&e.delivery_days>=0),w=async()=>{if(f.length<2){p.Am.error("Add at least 2 bids with supplier name and price.");return}g(!0),y(null);try{let t=await c.QU.compare(e,f);y(t),p.Am.success("Comparison complete.")}catch(e){p.Am.error(e instanceof Error?e.message:"Comparison failed.")}finally{g(!1)}};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Market Comparison"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Compare bids with AI-driven scoring and justification."})]}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requirement description"}),a.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"e.g. TMT Steel supply for Phase 1"}),(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Bids"}),(0,a.jsxs)("button",{type:"button",onClick:()=>{h(e=>[...e,{id:String(Date.now()),supplier_name:"",price:0,delivery_days:0,reputation_score:5}])},className:"flex items-center gap-2 text-orange-600 hover:text-orange-700 font-medium text-sm",children:[a.jsx(o.Z,{size:18})," Add bid"]})]}),a.jsx("div",{className:"mt-4 space-y-4",children:r.map(e=>(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 p-4 bg-gray-50 rounded-xl",children:[a.jsx("input",{placeholder:"Supplier name",value:e.supplier_name,onChange:t=>b(e.id,"supplier_name",t.target.value),className:"md:col-span-2 px-3 py-2 border border-gray-200 rounded-lg text-sm"}),a.jsx("input",{type:"number",placeholder:"Price (₹)",value:e.price||"",onChange:t=>b(e.id,"price",Number(t.target.value)||0),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"}),a.jsx("input",{type:"number",placeholder:"Delivery (days)",value:e.delivery_days||"",onChange:t=>b(e.id,"delivery_days",Number(t.target.value)||0),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:0,max:10,step:.1,placeholder:"Rep (0-10)",value:e.reputation_score||"",onChange:t=>b(e.id,"reputation_score",Number(t.target.value)||0),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm"}),a.jsx("button",{type:"button",onClick:()=>j(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg text-sm",children:"Remove"})]})]},e.id))}),(0,a.jsxs)("button",{type:"button",onClick:w,disabled:x||f.length<2,className:"mt-6 flex items-center gap-2 bg-orange-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[x?a.jsx(n.Z,{size:20,className:"animate-spin"}):a.jsx(d.Z,{size:20}),"Compare with AI"]})]}),m&&(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-100 bg-green-50 flex items-center gap-3",children:[a.jsx(l.Z,{className:"text-green-600",size:24}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-bold text-gray-900",children:["Recommended: ",String(f.find(e=>e.id===m.recommended_bid_id)?.supplier_name??m.rankings?.[0]?.supplier??m.recommended_bid_id)]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Score: ",m.score.toFixed(1)]})]})]}),(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Rankings"}),(0,a.jsxs)("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"pb-2",children:"Rank"}),a.jsx("th",{className:"pb-2",children:"Supplier"}),a.jsx("th",{className:"pb-2",children:"Score"})]})}),a.jsx("tbody",{children:(m.rankings??[]).map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-gray-50",children:[a.jsx("td",{className:"py-2",children:e.rank??t+1}),a.jsx("td",{className:"py-2",children:e.supplier??"—"}),a.jsx("td",{className:"py-2",children:Number(e.total_score??0).toFixed(1)})]},t))})]}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-orange-50 border border-orange-100 rounded-xl",children:[a.jsx("p",{className:"text-xs font-semibold text-orange-800 uppercase tracking-wider mb-2",children:"AI Justification"}),a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:m.justification})]})]})]})]})}},6824:(e,t,r)=>{"use strict";r.d(t,{Ai:()=>d,QU:()=>n,aH:()=>p,jb:()=>l,no:()=>i,qx:()=>o,s2:()=>c});let a=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api/v1";async function s(){return{}}let i={chat:async(e,t,r)=>{let s=await fetch(`${a}/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e,context:t,model:r})});if(!s.ok){let e=await s.json();throw Error(e.detail?.message||e.detail||"Failed to chat")}return s.json()},ragChat:async(e,t,r)=>{let s=await fetch(`${a}/ai/rag-chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,context:t,model:r})});if(!s.ok)throw Error((await s.json()).detail||"Failed to chat with AI");return s.json()},ingest:async(e,t={},r="default")=>{let s=await fetch(`${a}/ai/ingest`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,metadata:t,namespace:r})});if(!s.ok)throw Error((await s.json()).detail||"Failed to ingest document");return s.json()}},o={stats:async()=>{let e=await s(),t=await fetch(`${a}/projects/stats`,{headers:{...e}});if(!t.ok)throw Error((await t.json().catch(()=>({}))).detail||"Failed to load stats");return t.json()},list:async()=>{let e=await s(),t=await fetch(`${a}/projects`,{headers:{"Content-Type":"application/json",...e}});if(!t.ok)throw Error((await t.json().catch(()=>({}))).detail||"Failed to list projects");return(await t.json()).projects??[]},create:async e=>{let t=await s(),r=await fetch(`${a}/projects`,{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(e)});if(!r.ok)throw Error((await r.json().catch(()=>({}))).detail||"Failed to create project");return r.json()},getById:async e=>{let t=await s(),r=await fetch(`${a}/projects/${e}`,{headers:{...t}});if(404===r.status)return null;if(!r.ok)throw Error((await r.json().catch(()=>({}))).detail||"Failed to load project");return r.json()},update:async(e,t)=>{let r=await s(),i=await fetch(`${a}/projects/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",...r},body:JSON.stringify(t)});if(!i.ok)throw Error((await i.json().catch(()=>({}))).detail||"Failed to update project");return i.json()}},n={compare:async(e,t,r)=>{let i=await s(),o=await fetch(`${a}/awards/compare`,{method:"POST",headers:{"Content-Type":"application/json",...i},body:JSON.stringify({requirement_description:e,bids:t,criteria:r??{}})});if(!o.ok)throw Error((await o.json().catch(()=>({}))).detail||"Award comparison failed");return o.json()},scoreOnly:async(e,t,r)=>{let i=await s(),o=await fetch(`${a}/awards/score-only`,{method:"POST",headers:{"Content-Type":"application/json",...i},body:JSON.stringify({requirement_description:e,bids:t,criteria:r??{}})});if(!o.ok)throw Error((await o.json().catch(()=>({}))).detail||"Scoring failed");return o.json()}},d={analyze:async e=>{let t=await s(),r=await fetch(`${a}/forecast/analyze`,{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(e)});if(!r.ok)throw Error((await r.json().catch(()=>({}))).detail||"Forecast failed");return r.json()}},l={send:async e=>{let t=await s(),r=await fetch(`${a}/coordination/send`,{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(e)});if(!r.ok)throw Error((await r.json().catch(()=>({}))).detail||"Coordination failed");return r.json()}},c={extract:async e=>{let t=await s(),r=await fetch(`${a}/extract/`,{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify({ocr_text:e})});if(!r.ok)throw Error((await r.json().catch(()=>({}))).detail||"Extraction failed");return r.json()}},p={transcribe:async e=>{let t=await s(),r=new FormData;r.append("file",e);let i=await fetch(`${a}/transcribe/`,{method:"POST",headers:{...t},body:r});if(!i.ok)throw Error((await i.json().catch(()=>({}))).detail||"Transcription failed");return i.json()}}},66307:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},77506:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},83855:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},92509:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`C:\Users\user\.gemini\antigravity\scratch\BuildBidz-Antigravity\frontend\web\app\dashboard\compare\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[82,404,453,106,968],()=>r(76294));module.exports=a})();