(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185,257],{71977:function(e,t,n){Promise.resolve().then(n.bind(n,58711)),Promise.resolve().then(n.t.bind(n,50911,23)),Promise.resolve().then(n.t.bind(n,47960,23)),Promise.resolve().then(n.bind(n,69064))},58711:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return l},i:function(){return _},a:function(){return f}});var r=n(57437),o=n(2265),u=n(99376),s=n(54257);let a=["/","/login","/signup","/docs"];function i(e){return!e||a.some(t=>e===t||e.startsWith(t+"/"))}var c=n(43301);let h=(0,o.createContext)(void 0);function l(e){let{children:t}=e,[n,a]=(0,o.useState)(null),[l,f]=(0,o.useState)(!0),[_,E]=(0,o.useState)(null),d=(0,u.useRouter)(),m=(0,u.usePathname)();(0,o.useEffect)(()=>{let e=(0,c.Aj)(s.auth,e=>{a(e),f(!1),e&&d.refresh()});return()=>e()},[d]),(0,o.useEffect)(()=>{!l&&!n&&!i(m)&&m&&m.startsWith("/dashboard")&&d.push("/login")},[n,l,m,d]);let I=async(e,t)=>{try{await (0,c.e5)(s.auth,e,t)}catch(e){throw console.error("Sign in error:",e),e}},P=async(e,t,n)=>{try{let{user:n}=await (0,c.Xb)(s.auth,e,t)}catch(e){throw console.error("Sign up error:",e),e}},v=async()=>{try{await (0,c.w7)(s.auth)}catch(e){throw console.error("Sign out error:",e),e}},S=async e=>{try{let t=new c.lI(s.auth,"recaptcha-container",{size:"invisible"}),n=await (0,c.$g)(s.auth,e,t);E(n)}catch(e){throw console.error("Phone sign in error:",e),e}},N=async e=>{try{if(!_)throw Error("No pending confirmation found");await _.confirm(e)}catch(e){throw console.error("OTP verification error:",e),e}};return(0,r.jsx)(h.Provider,{value:{user:n,isLoading:l,signIn:I,signUp:P,signOut:v,signInWithOtp:S,verifyOtp:N},children:t})}function f(){let e=(0,o.useContext)(h);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function _(e){let{children:t,fallback:n}=e,{user:s,isLoading:a}=f(),c=(0,u.useRouter)(),h=(0,u.usePathname)();return((0,o.useEffect)(()=>{a||s||i(h)||c.push("/login")},[s,a,h,c]),a)?n||(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):s?(0,r.jsx)(r.Fragment,{children:t}):null}},54257:function(e,t,n){"use strict";n.d(t,{auth:function(){return h}});var r=n(738),o=n(43301),u=n(5978),s=n(60062),a=n(40257);let i={apiKey:a.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:a.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:a.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:a.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:a.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:a.env.NEXT_PUBLIC_FIREBASE_APP_ID,measurementId:a.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},c=(0,r.C6)().length>0?(0,r.Mq)():(0,r.ZF)(i),h=(0,o.v0)(c);(0,u.ad)(c),(0,s.cF)(c)},99376:function(e,t,n){"use strict";var r=n(35475);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},47960:function(){},50911:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}}},function(e){e.O(0,[944,358,990,933,659,971,117,744],function(){return e(e.s=71977)}),_N_E=e.O()}]);