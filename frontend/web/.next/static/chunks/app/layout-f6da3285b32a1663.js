(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185,257],{71977:function(e,t,r){Promise.resolve().then(r.bind(r,58711)),Promise.resolve().then(r.t.bind(r,50911,23)),Promise.resolve().then(r.t.bind(r,47960,23)),Promise.resolve().then(r.bind(r,69064))},58711:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return f},i:function(){return _},a:function(){return l}});var n=r(57437),o=r(2265),u=r(99376),i=r(54257);let s=["/","/login","/signup","/docs"];function a(e){return!e||s.some(t=>e===t||e.startsWith(t+"/"))}var c=r(43301);let h=(0,o.createContext)(void 0);function f(e){let{children:t}=e,[r,s]=(0,o.useState)(null),[f,l]=(0,o.useState)(!0),[_,d]=(0,o.useState)(null),E=(0,u.useRouter)(),v=(0,u.usePathname)();(0,o.useEffect)(()=>{if(!i.auth){l(!1);return}let e=(0,c.Aj)(i.auth,e=>{s(e),l(!1),e&&E.refresh()});return()=>e()},[E]),(0,o.useEffect)(()=>{!f&&!r&&!a(v)&&v&&v.startsWith("/dashboard")&&E.push("/login")},[r,f,v,E]);let I=async(e,t)=>{if(!i.auth)throw Error("Auth is not configured. Add Firebase keys to .env.");try{await (0,c.e5)(i.auth,e,t)}catch(e){throw console.error("Sign in error:",e),e}},m=async(e,t,r)=>{if(!i.auth)throw Error("Auth is not configured. Add Firebase keys to .env.");try{let{user:r}=await (0,c.Xb)(i.auth,e,t)}catch(e){throw console.error("Sign up error:",e),e}},P=async()=>{if(i.auth)try{await (0,c.w7)(i.auth)}catch(e){throw console.error("Sign out error:",e),e}},A=async e=>{if(!i.auth)throw Error("Auth is not configured. Add Firebase keys to .env.");try{let t=new c.lI(i.auth,"recaptcha-container",{size:"invisible"}),r=await (0,c.$g)(i.auth,e,t);d(r)}catch(e){throw console.error("Phone sign in error:",e),e}},y=async e=>{if(!i.auth)throw Error("Auth is not configured. Add Firebase keys to .env.");try{if(!_)throw Error("No pending confirmation found");await _.confirm(e)}catch(e){throw console.error("OTP verification error:",e),e}};return(0,n.jsx)(h.Provider,{value:{user:r,isLoading:f,signIn:I,signUp:m,signOut:P,signInWithOtp:A,verifyOtp:y},children:t})}function l(){let e=(0,o.useContext)(h);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function _(e){let{children:t,fallback:r}=e,{user:i,isLoading:s}=l(),c=(0,u.useRouter)(),h=(0,u.usePathname)();return((0,o.useEffect)(()=>{s||i||a(h)||c.push("/login")},[i,s,h,c]),s)?r||(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):i?(0,n.jsx)(n.Fragment,{children:t}):null}},54257:function(e,t,r){"use strict";r.d(t,{auth:function(){return h}});var n=r(738),o=r(43301),u=r(5978),i=r(60062),s=r(40257);let a={apiKey:s.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:s.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:s.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:s.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:s.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:s.env.NEXT_PUBLIC_FIREBASE_APP_ID,measurementId:s.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},c=null,h=null;if(function(){let e=s.env.NEXT_PUBLIC_FIREBASE_API_KEY;return!!e&&"your-api-key"!==e&&!e.startsWith("your-")}())try{c=(0,n.C6)().length>0?(0,n.Mq)():(0,n.ZF)(a),h=(0,o.v0)(c),(0,u.ad)(c),(0,i.cF)(c)}catch(e){}},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},47960:function(){},50911:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}}},function(e){e.O(0,[944,358,990,659,933,971,117,744],function(){return e(e.s=71977)}),_N_E=e.O()}]);