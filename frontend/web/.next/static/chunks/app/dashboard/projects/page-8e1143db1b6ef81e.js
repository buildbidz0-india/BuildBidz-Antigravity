(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{47876:function(e,t,a){Promise.resolve().then(a.bind(a,61660))},61660:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var r=a(57437),n=a(2265),o=a(60429),s=a(33145),i=a(27648),l=a(99397),c=a(73247),d=a(3577),m=a(71533),u=a(83774),h=a(31047),g=a(95805),p=a(58910),x=a(53869),f=a(29116);function y(){let[e,t]=(0,n.useState)(!1),[a,y]=(0,n.useState)([]),[j,b]=(0,n.useState)(!0),[w,v]=(0,n.useState)(""),[N,C]=(0,n.useState)(""),[S,k]=(0,n.useState)(!1),P=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(!S)return;let e=e=>{P.current&&!P.current.contains(e.target)&&k(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[S]);let E=(0,n.useCallback)(async()=>{b(!0);try{let e=await f.qx.list();y(e)}catch(e){y(p.w)}finally{b(!1)}},[]);(0,n.useEffect)(()=>{E()},[E]);let T=(a.length>0?a:p.w).filter(e=>{let t=w.trim().toLowerCase();if(t){let a=e.name.toLowerCase().includes(t),r=(e.location||"").toLowerCase().includes(t);if(!a&&!r)return!1}return!N||(e.status||"").toLowerCase()===N.toLowerCase()});return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Projects"}),(0,r.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage and track all your construction projects."})]}),(0,r.jsxs)("button",{onClick:()=>t(!0),className:"bg-orange-600 text-white px-5 py-2.5 rounded-xl font-semibold hover:bg-orange-700 transition-all shadow-lg shadow-orange-100 flex items-center justify-center",children:[(0,r.jsx)(l.Z,{size:20,className:"mr-2"}),"Create Project"]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:(0,r.jsx)(c.Z,{size:18})}),(0,r.jsx)("input",{type:"text",value:w,onChange:e=>v(e.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-xl bg-white focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"Search projects by name or location..."})]}),(0,r.jsxs)("div",{className:"relative",ref:P,children:[(0,r.jsxs)("button",{type:"button",onClick:()=>k(e=>!e),className:"flex items-center justify-center px-4 py-2.5 border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 transition-colors font-medium",children:[(0,r.jsx)(d.Z,{size:18,className:"mr-2"}),"Filter"]}),S&&(0,r.jsxs)("div",{className:"absolute right-0 top-full mt-1 py-2 bg-white border border-gray-200 rounded-xl shadow-lg z-10 min-w-[140px]",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{C(""),k(!1)},className:"block w-full text-left px-4 py-2 text-sm ".concat(N?"text-gray-700 hover:bg-gray-50":"bg-orange-50 text-orange-700 font-medium"),children:"All statuses"}),(0,r.jsx)("button",{type:"button",onClick:()=>{C("Active"),k(!1)},className:"block w-full text-left px-4 py-2 text-sm ".concat("Active"===N?"bg-orange-50 text-orange-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:"Active"}),(0,r.jsx)("button",{type:"button",onClick:()=>{C("Planning"),k(!1)},className:"block w-full text-left px-4 py-2 text-sm ".concat("Planning"===N?"bg-orange-50 text-orange-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:"Planning"})]})]})]}),j?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-sm h-80 animate-pulse",children:[(0,r.jsx)("div",{className:"h-48 bg-gray-100"}),(0,r.jsxs)("div",{className:"p-6 space-y-3",children:[(0,r.jsx)("div",{className:"h-5 bg-gray-100 rounded w-3/4"}),(0,r.jsx)("div",{className:"h-4 bg-gray-100 rounded w-1/2"}),(0,r.jsx)("div",{className:"h-2 bg-gray-100 rounded w-full"})]})]},e))}):0===T.length?(0,r.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 p-12 text-center",children:[(0,r.jsx)("p",{className:"text-gray-500 font-medium",children:"No projects match your search or filter."}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Try clearing the search or filter."})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map((e,t)=>{var a,n;return(0,r.jsx)(i.default,{href:"/dashboard/projects/".concat(e.id),children:(0,r.jsxs)(o.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1*t},className:"group bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-sm hover:shadow-md transition-all cursor-pointer",children:[(0,r.jsxs)("div",{className:"h-48 overflow-hidden relative bg-gray-100",children:[(0,r.jsx)(s.default,{src:e.image||"https://images.unsplash.com/photo-1541888946425-d81bb19480c5?auto=format&fit=crop&q=80&w=400",alt:e.name,fill:!0,className:"object-cover group-hover:scale-110 transition-transform duration-500"}),(0,r.jsx)("div",{className:"absolute top-4 right-4",children:(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat("Active"===e.status?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"),children:e.status})})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2 text-wrap",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 leading-tight",children:e.name}),(0,r.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(m.Z,{size:20})})]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-6",children:[(0,r.jsx)(u.Z,{size:14,className:"mr-1"}),e.location]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Progress"}),(0,r.jsxs)("span",{className:"font-bold text-gray-900",children:[e.progress,"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-orange-600 h-2 rounded-full transition-all duration-1000",style:{width:"".concat(e.progress,"%")}})})]}),(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-50 grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,r.jsx)(h.Z,{size:14,className:"mr-2 text-gray-400"}),null!==(a=e.deadline)&&void 0!==a?a:"—"]}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,r.jsx)(g.Z,{size:14,className:"mr-2 text-gray-400"}),null!==(n=e.team_count)&&void 0!==n?n:0," members"]})]})]})]})},e.id)})}),(0,r.jsx)(x.Z,{isOpen:e,onClose:()=>t(!1),onSuccess:E})]})}},53869:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var r=a(57437),n=a(2265),o=a(5095),s=a(60429),i=a(97685),l=a(32489),c=a(69064),d=a(29116);function m(e){let{isOpen:t,onClose:a,onSuccess:m}=e,[u,h]=(0,n.useState)(""),[g,p]=(0,n.useState)(""),[x,f]=(0,n.useState)(""),[y,j]=(0,n.useState)(!1),b=async e=>{if(e.preventDefault(),u.trim()){j(!0);try{await d.qx.create({name:u.trim(),location:g.trim()||void 0,description:x.trim()||void 0}),c.Am.success("Project created."),h(""),p(""),f(""),a(),null==m||m()}catch(e){c.Am.error(e instanceof Error?e.message:"Something went wrong.")}finally{j(!1)}}},w=()=>{y||a()};return(0,r.jsx)(o.M,{children:t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:w,className:"fixed inset-0 bg-black/50 z-50 backdrop-blur-sm"}),(0,r.jsxs)(s.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white rounded-2xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600",children:(0,r.jsx)(i.Z,{size:20})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-gray-900",children:"New Project"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Add a new construction project"})]})]}),(0,r.jsx)("button",{type:"button",onClick:w,disabled:y,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:(0,r.jsx)(l.Z,{size:20})})]}),(0,r.jsxs)("form",{onSubmit:b,className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"project-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project name *"}),(0,r.jsx)("input",{id:"project-name",type:"text",required:!0,value:u,onChange:e=>h(e.target.value),placeholder:"e.g. Mumbai Metro Extension",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"project-location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,r.jsx)("input",{id:"project-location",type:"text",value:g,onChange:e=>p(e.target.value),placeholder:"e.g. Mumbai, MH",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"project-desc",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,r.jsx)("textarea",{id:"project-desc",rows:3,value:x,onChange:e=>f(e.target.value),placeholder:"Brief description of the project...",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm resize-none"})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,r.jsx)("button",{type:"button",onClick:w,disabled:y,className:"flex-1 py-2.5 px-4 border border-gray-200 rounded-xl font-medium text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:y||!u.trim(),className:"flex-1 py-2.5 px-4 bg-orange-600 text-white rounded-xl font-medium hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Creating…":"Create Project"})]})]})]})]})})}},29116:function(e,t,a){"use strict";a.d(t,{Ai:function(){return l},QU:function(){return i},aH:function(){return m},jb:function(){return c},no:function(){return o},qx:function(){return s},s2:function(){return d}});let r=a(40257).env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api/v1";async function n(){try{var e;let{auth:t}=await Promise.all([a.e(358),a.e(990),a.e(933),a.e(257)]).then(a.bind(a,54257));if(!t)return{};let r=await (null===(e=t.currentUser)||void 0===e?void 0:e.getIdToken());return r?{Authorization:"Bearer ".concat(r)}:{}}catch(e){return{}}}let o={chat:async(e,t,a)=>{let n=await fetch("".concat(r,"/ai/chat"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e,context:t,model:a})});if(!n.ok){var o;let e=await n.json();throw Error((null===(o=e.detail)||void 0===o?void 0:o.message)||e.detail||"Failed to chat")}return n.json()},ragChat:async(e,t,a)=>{let n=await fetch("".concat(r,"/ai/rag-chat"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,context:t,model:a})});if(!n.ok)throw Error((await n.json()).detail||"Failed to chat with AI");return n.json()},ingest:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",n=await fetch("".concat(r,"/ai/ingest"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,metadata:t,namespace:a})});if(!n.ok)throw Error((await n.json()).detail||"Failed to ingest document");return n.json()}},s={stats:async()=>{let e=await n(),t=await fetch("".concat(r,"/projects/stats"),{headers:{...e}});if(!t.ok)throw Error((await t.json().catch(()=>({}))).detail||"Failed to load stats");return t.json()},list:async()=>{var e;let t=await n(),a=await fetch("".concat(r,"/projects"),{headers:{"Content-Type":"application/json",...t}});if(!a.ok)throw Error((await a.json().catch(()=>({}))).detail||"Failed to list projects");return null!==(e=(await a.json()).projects)&&void 0!==e?e:[]},create:async e=>{let t=await n(),a=await fetch("".concat(r,"/projects"),{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json().catch(()=>({}))).detail||"Failed to create project");return a.json()},getById:async e=>{let t=await n(),a=await fetch("".concat(r,"/projects/").concat(e),{headers:{...t}});if(404===a.status)return null;if(!a.ok)throw Error((await a.json().catch(()=>({}))).detail||"Failed to load project");return a.json()},update:async(e,t)=>{let a=await n(),o=await fetch("".concat(r,"/projects/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",...a},body:JSON.stringify(t)});if(!o.ok)throw Error((await o.json().catch(()=>({}))).detail||"Failed to update project");return o.json()}},i={compare:async(e,t,a)=>{let o=await n(),s=await fetch("".concat(r,"/awards/compare"),{method:"POST",headers:{"Content-Type":"application/json",...o},body:JSON.stringify({requirement_description:e,bids:t,criteria:null!=a?a:{}})});if(!s.ok)throw Error((await s.json().catch(()=>({}))).detail||"Award comparison failed");return s.json()},scoreOnly:async(e,t,a)=>{let o=await n(),s=await fetch("".concat(r,"/awards/score-only"),{method:"POST",headers:{"Content-Type":"application/json",...o},body:JSON.stringify({requirement_description:e,bids:t,criteria:null!=a?a:{}})});if(!s.ok)throw Error((await s.json().catch(()=>({}))).detail||"Scoring failed");return s.json()}},l={analyze:async e=>{let t=await n(),a=await fetch("".concat(r,"/forecast/analyze"),{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json().catch(()=>({}))).detail||"Forecast failed");return a.json()}},c={send:async e=>{let t=await n(),a=await fetch("".concat(r,"/coordination/send"),{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json().catch(()=>({}))).detail||"Coordination failed");return a.json()}},d={extract:async e=>{let t=await n(),a=await fetch("".concat(r,"/extract/"),{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify({ocr_text:e})});if(!a.ok)throw Error((await a.json().catch(()=>({}))).detail||"Extraction failed");return a.json()}},m={transcribe:async e=>{let t=await n(),a=new FormData;a.append("file",e);let o=await fetch("".concat(r,"/transcribe/"),{method:"POST",headers:{...t},body:a});if(!o.ok)throw Error((await o.json().catch(()=>({}))).detail||"Transcription failed");return o.json()}}},58910:function(e,t,a){"use strict";a.d(t,{R:function(){return n},w:function(){return r}});let r=[{id:1,name:"Mumbai Metro Extension",location:"Mumbai, MH",status:"Active",progress:35,teamCount:18,deadline:"Dec 2026",image:"https://images.unsplash.com/photo-1541888946425-d81bb19480c5?auto=format&fit=crop&q=80&w=400",description:"Phase 2 extension of the Mumbai Metro Line 3, covering 12km of elevated corridor and 8 stations.",team:[{name:"John Doe",role:"Project Manager",initials:"JD"},{name:"Sarah Smith",role:"Lead Architect",initials:"SS"},{name:"Raj Vyas",role:"Site Engineer",initials:"RV"}],milestones:[{name:"Foundation Work",date:"Oct 2024",completed:!0},{name:"Pillar Casting",date:"Jan 2025",completed:!0},{name:"Girder Launching",date:"June 2025",completed:!1},{name:"Station Finishing",date:"March 2026",completed:!1}]},{id:2,name:"DLF Cyber City - Tower C",location:"Gurgaon, HR",status:"Active",progress:68,teamCount:42,deadline:"Aug 2025",image:"https://images.unsplash.com/photo-1503387762-592dee58c190?auto=format&fit=crop&q=80&w=400",description:"Commercial tower C as part of DLF Cyber City complex. 28 floors with basement parking and retail podium.",team:[{name:"Amit Sharma",role:"Project Manager",initials:"AS"},{name:"Priya Nair",role:"Structural Engineer",initials:"PN"},{name:"Vikram Singh",role:"MEP Lead",initials:"VS"}],milestones:[{name:"Excavation & Piling",date:"Jun 2024",completed:!0},{name:"Core & Shell",date:"Dec 2024",completed:!0},{name:"Fa\xe7ade & MEP",date:"Apr 2025",completed:!1},{name:"Handover",date:"Aug 2025",completed:!1}]},{id:3,name:"Green Valley Residential",location:"Bangalore, KA",status:"Planning",progress:10,teamCount:5,deadline:"Mar 2027",image:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?auto=format&fit=crop&q=80&w=400",description:"Residential complex with 4 towers, clubhouse, and landscaped amenities. Pre-sales and approvals in progress.",team:[{name:"Kavitha Reddy",role:"Project Lead",initials:"KR"},{name:"Suresh Kumar",role:"Design Coordinator",initials:"SK"}],milestones:[{name:"RERA & Approvals",date:"Q1 2025",completed:!1},{name:"Groundbreaking",date:"Q3 2025",completed:!1},{name:"Tower 1 Foundation",date:"Q1 2026",completed:!1},{name:"Phase 1 Handover",date:"Mar 2027",completed:!1}]}];function n(e){var t,a;if(null==e)return null;let n="string"==typeof e?parseInt(e,10):parseInt(null!==(t=null==e?void 0:e[0])&&void 0!==t?t:"",10);return Number.isNaN(n)?null:null!==(a=r.find(e=>e.id===n))&&void 0!==a?a:null}}},function(e){e.O(0,[429,972,659,401,971,117,744],function(){return e(e.s=47876)}),_N_E=e.O()}]);