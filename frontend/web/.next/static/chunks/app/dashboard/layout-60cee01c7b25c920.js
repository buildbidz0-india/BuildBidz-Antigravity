(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663,257],{79257:function(e,t,r){Promise.resolve().then(r.bind(r,52490))},52490:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var n=r(57437),a=r(27648),i=r(99376),s=r(79205);let o=(0,s.Z)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var c=r(97685),u=r(41169);let l=(0,s.Z)("scale",[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]]);var d=r(48736),h=r(48662),f=r(98728);let m=(0,s.Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),p=(0,s.Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),x=(0,s.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var y=r(2265),g=r(58711),v=r(94508);let b=[{name:"Dashboard",href:"/dashboard",icon:o},{name:"Projects",href:"/dashboard/projects",icon:c.Z},{name:"Bids",href:"/dashboard/bids",icon:u.Z},{name:"Compare",href:"/dashboard/compare",icon:l},{name:"Extract",href:"/dashboard/extract",icon:d.Z},{name:"Voice",href:"/dashboard/voice",icon:h.Z},{name:"Settings",href:"/dashboard/settings",icon:f.Z}];function w(){let e=(0,i.usePathname)(),{signOut:t}=(0,g.a)(),[r,s]=(0,y.useState)(!1);return(0,n.jsxs)("aside",{className:(0,v.cn)("h-screen bg-white border-r border-gray-200 transition-all duration-300 flex flex-col",r?"w-20":"w-64"),children:[(0,n.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[!r&&(0,n.jsxs)("h1",{className:"text-2xl font-bold tracking-tight",children:["Build",(0,n.jsx)("span",{className:"text-orange-600",children:"Bidz"})]}),(0,n.jsx)("button",{onClick:()=>s(!r),className:"p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100 text-gray-500",children:r?(0,n.jsx)(m,{size:20}):(0,n.jsx)(p,{size:20})})]}),(0,n.jsx)("nav",{className:"flex-1 px-4 space-y-1 mt-4",children:b.map(t=>{let i=e===t.href;return(0,n.jsxs)(a.default,{href:t.href,className:(0,v.cn)("flex items-center py-3 px-3 rounded-xl transition-all duration-200 group",i?"bg-orange-50 text-orange-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,n.jsx)(t.icon,{size:22,className:(0,v.cn)("transition-colors",i?"text-orange-600":"text-gray-400 group-hover:text-gray-600")}),!r&&(0,n.jsx)("span",{className:"ml-3 font-medium",children:t.name})]},t.href)})}),(0,n.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,n.jsxs)("button",{onClick:()=>t(),className:(0,v.cn)("flex items-center w-full py-3 px-3 rounded-xl text-gray-600 hover:bg-red-50 hover:text-red-600 transition-all duration-200"),children:[(0,n.jsx)(x,{size:22}),!r&&(0,n.jsx)("span",{className:"ml-3 font-medium",children:"Log Out"})]})})]})}var k=r(73247),j=r(94766);function E(e){var t,r,a,i,s;let{children:o}=e,{user:c}=(0,g.a)(),u=null!==(r=null!==(t=null==c?void 0:c.displayName)&&void 0!==t?t:null==c?void 0:c.email)&&void 0!==r?r:"User",l=function(e,t){if(e&&e.trim()){let t=e.trim().split(/\s+/);return t.length>=2?(t[0][0]+t[t.length-1][0]).toUpperCase():e.slice(0,2).toUpperCase()}return t&&t.trim()?t.split("@")[0].slice(0,2).toUpperCase():"?"}(null!==(a=null==c?void 0:c.displayName)&&void 0!==a?a:null,null!==(i=null==c?void 0:c.email)&&void 0!==i?i:null);return(0,n.jsx)(g.i,{children:(0,n.jsxs)("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[(0,n.jsx)(w,{}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,n.jsxs)("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-8 z-10",children:[(0,n.jsxs)("div",{className:"relative w-96",children:[(0,n.jsx)("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:(0,n.jsx)(k.Z,{size:18})}),(0,n.jsx)("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-200 rounded-xl leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:bg-white focus:ring-1 focus:ring-orange-500 focus:border-orange-500 sm:text-sm transition-all",placeholder:"Search projects, bids, drawings..."})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-50 transition-colors relative",children:[(0,n.jsx)(j.Z,{size:20}),(0,n.jsx)("span",{className:"absolute top-2 right-2 block h-2 w-2 rounded-full bg-orange-600 ring-2 ring-white"})]}),(0,n.jsx)("div",{className:"h-8 w-px bg-gray-200 mx-2"}),(0,n.jsxs)("button",{className:"flex items-center space-x-3 p-1.5 rounded-xl hover:bg-gray-50 transition-colors",children:[(0,n.jsx)("div",{className:"h-8 w-8 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 font-bold text-sm",children:l}),(0,n.jsxs)("div",{className:"hidden md:block text-left",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-gray-900 leading-none truncate max-w-[140px]",children:u}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate max-w-[140px]",children:null!==(s=null==c?void 0:c.email)&&void 0!==s?s:"Administrator"})]})]})]})]}),(0,n.jsx)("main",{className:"flex-1 overflow-y-auto p-8",children:o})]})]})})}},58711:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return d},i:function(){return f},a:function(){return h}});var n=r(57437),a=r(2265),i=r(99376),s=r(54257);let o=["/","/login","/signup","/docs"];function c(e){return!e||o.some(t=>e===t||e.startsWith(t+"/"))}var u=r(43301);let l=(0,a.createContext)(void 0);function d(e){let{children:t}=e,[r,o]=(0,a.useState)(null),[d,h]=(0,a.useState)(!0),[f,m]=(0,a.useState)(null),p=(0,i.useRouter)(),x=(0,i.usePathname)();(0,a.useEffect)(()=>{if(!s.auth){h(!1);return}let e=(0,u.Aj)(s.auth,e=>{o(e),h(!1),e&&p.refresh()});return()=>e()},[p]),(0,a.useEffect)(()=>{!d&&!r&&!c(x)&&x&&x.startsWith("/dashboard")&&p.push("/login")},[r,d,x,p]);let y=async(e,t)=>{if(!s.auth)throw Error("Auth is not configured. Add Firebase keys to .env.");try{await (0,u.e5)(s.auth,e,t)}catch(e){throw console.error("Sign in error:",e),e}},g=async(e,t,r)=>{if(!s.auth)throw Error("Auth is not configured. Add Firebase keys to .env.");try{let{user:r}=await (0,u.Xb)(s.auth,e,t)}catch(e){throw console.error("Sign up error:",e),e}},v=async()=>{if(s.auth)try{await (0,u.w7)(s.auth)}catch(e){throw console.error("Sign out error:",e),e}},b=async e=>{if(!s.auth)throw Error("Auth is not configured. Add Firebase keys to .env.");try{let t=new u.lI(s.auth,"recaptcha-container",{size:"invisible"}),r=await (0,u.$g)(s.auth,e,t);m(r)}catch(e){throw console.error("Phone sign in error:",e),e}},w=async e=>{if(!s.auth)throw Error("Auth is not configured. Add Firebase keys to .env.");try{if(!f)throw Error("No pending confirmation found");await f.confirm(e)}catch(e){throw console.error("OTP verification error:",e),e}};return(0,n.jsx)(l.Provider,{value:{user:r,isLoading:d,signIn:y,signUp:g,signOut:v,signInWithOtp:b,verifyOtp:w},children:t})}function h(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function f(e){let{children:t,fallback:r}=e,{user:s,isLoading:o}=h(),u=(0,i.useRouter)(),l=(0,i.usePathname)();return((0,a.useEffect)(()=>{o||s||c(l)||u.push("/login")},[s,o,l,u]),o)?r||(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):s?(0,n.jsx)(n.Fragment,{children:t}):null}},54257:function(e,t,r){"use strict";r.d(t,{auth:function(){return l}});var n=r(738),a=r(43301),i=r(5978),s=r(60062),o=r(40257);let c={apiKey:o.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:o.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:o.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:o.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:o.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:o.env.NEXT_PUBLIC_FIREBASE_APP_ID,measurementId:o.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},u=null,l=null;if(function(){let e=o.env.NEXT_PUBLIC_FIREBASE_API_KEY;return!!e&&"your-api-key"!==e&&!e.startsWith("your-")}())try{u=(0,n.C6)().length>0?(0,n.Mq)():(0,n.ZF)(c),l=(0,a.v0)(u),(0,i.ad)(u),(0,s.cF)(u)}catch(e){}},94508:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var n=r(61994),a=r(53335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},94766:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},97685:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]])},48736:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},41169:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("gavel",[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]])},48662:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]])},73247:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},98728:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},40257:function(e,t,r){"use strict";var n,a;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(44227)},44227:function(e){!function(){var t={229:function(e){var t,r,n,a=e.exports={};function i(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c=[],u=!1,l=-1;function d(){u&&n&&(u=!1,n.length?c=n.concat(c):l=-1,c.length&&h())}function h(){if(!u){var e=o(d);u=!0;for(var t=c.length;t;){for(n=c,c=[];++l<t;)n&&n[l].run();l=-1,t=c.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||o(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var i=r[e]={exports:{}},s=!0;try{t[e](i,i.exports,n),s=!1}finally{s&&delete r[e]}return i.exports}n.ab="//";var a=n(229);e.exports=a}()}},function(e){e.O(0,[358,990,972,933,302,971,117,744],function(){return e(e.s=79257)}),_N_E=e.O()}]);