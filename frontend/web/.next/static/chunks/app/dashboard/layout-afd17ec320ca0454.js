(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663,257],{79257:function(e,t,r){Promise.resolve().then(r.bind(r,50654))},50654:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(57437),i=r(27648),s=r(99376),o=r(79205);let a=(0,o.Z)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var c=r(97685),u=r(41169),l=r(98728);let d=(0,o.Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),h=(0,o.Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),f=(0,o.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var m=r(2265),x=r(58711),g=r(94508);let p=[{name:"Dashboard",href:"/dashboard",icon:a},{name:"Projects",href:"/dashboard/projects",icon:c.Z},{name:"Bids",href:"/dashboard/bids",icon:u.Z},{name:"Settings",href:"/dashboard/settings",icon:l.Z}];function y(){let e=(0,s.usePathname)(),{signOut:t}=(0,x.a)(),[r,o]=(0,m.useState)(!1);return(0,n.jsxs)("aside",{className:(0,g.cn)("h-screen bg-white border-r border-gray-200 transition-all duration-300 flex flex-col",r?"w-20":"w-64"),children:[(0,n.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[!r&&(0,n.jsxs)("h1",{className:"text-2xl font-bold tracking-tight",children:["Build",(0,n.jsx)("span",{className:"text-orange-600",children:"Bidz"})]}),(0,n.jsx)("button",{onClick:()=>o(!r),className:"p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100 text-gray-500",children:r?(0,n.jsx)(d,{size:20}):(0,n.jsx)(h,{size:20})})]}),(0,n.jsx)("nav",{className:"flex-1 px-4 space-y-1 mt-4",children:p.map(t=>{let s=e===t.href;return(0,n.jsxs)(i.default,{href:t.href,className:(0,g.cn)("flex items-center py-3 px-3 rounded-xl transition-all duration-200 group",s?"bg-orange-50 text-orange-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,n.jsx)(t.icon,{size:22,className:(0,g.cn)("transition-colors",s?"text-orange-600":"text-gray-400 group-hover:text-gray-600")}),!r&&(0,n.jsx)("span",{className:"ml-3 font-medium",children:t.name})]},t.href)})}),(0,n.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,n.jsxs)("button",{onClick:()=>t(),className:(0,g.cn)("flex items-center w-full py-3 px-3 rounded-xl text-gray-600 hover:bg-red-50 hover:text-red-600 transition-all duration-200"),children:[(0,n.jsx)(f,{size:22}),!r&&(0,n.jsx)("span",{className:"ml-3 font-medium",children:"Log Out"})]})})]})}var v=r(73247),b=r(94766);function w(e){var t,r,i,s,o;let{children:a}=e,{user:c}=(0,x.a)(),u=null!==(r=null!==(t=null==c?void 0:c.displayName)&&void 0!==t?t:null==c?void 0:c.email)&&void 0!==r?r:"User",l=function(e,t){if(e&&e.trim()){let t=e.trim().split(/\s+/);return t.length>=2?(t[0][0]+t[t.length-1][0]).toUpperCase():e.slice(0,2).toUpperCase()}return t&&t.trim()?t.split("@")[0].slice(0,2).toUpperCase():"?"}(null!==(i=null==c?void 0:c.displayName)&&void 0!==i?i:null,null!==(s=null==c?void 0:c.email)&&void 0!==s?s:null);return(0,n.jsx)(x.i,{children:(0,n.jsxs)("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[(0,n.jsx)(y,{}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,n.jsxs)("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-8 z-10",children:[(0,n.jsxs)("div",{className:"relative w-96",children:[(0,n.jsx)("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:(0,n.jsx)(v.Z,{size:18})}),(0,n.jsx)("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-200 rounded-xl leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:bg-white focus:ring-1 focus:ring-orange-500 focus:border-orange-500 sm:text-sm transition-all",placeholder:"Search projects, bids, drawings..."})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-50 transition-colors relative",children:[(0,n.jsx)(b.Z,{size:20}),(0,n.jsx)("span",{className:"absolute top-2 right-2 block h-2 w-2 rounded-full bg-orange-600 ring-2 ring-white"})]}),(0,n.jsx)("div",{className:"h-8 w-px bg-gray-200 mx-2"}),(0,n.jsxs)("button",{className:"flex items-center space-x-3 p-1.5 rounded-xl hover:bg-gray-50 transition-colors",children:[(0,n.jsx)("div",{className:"h-8 w-8 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 font-bold text-sm",children:l}),(0,n.jsxs)("div",{className:"hidden md:block text-left",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-gray-900 leading-none truncate max-w-[140px]",children:u}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate max-w-[140px]",children:null!==(o=null==c?void 0:c.email)&&void 0!==o?o:"Administrator"})]})]})]})]}),(0,n.jsx)("main",{className:"flex-1 overflow-y-auto p-8",children:a})]})]})})}},58711:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return d},i:function(){return f},a:function(){return h}});var n=r(57437),i=r(2265),s=r(99376),o=r(54257);let a=["/","/login","/signup","/docs"];function c(e){return!e||a.some(t=>e===t||e.startsWith(t+"/"))}var u=r(43301);let l=(0,i.createContext)(void 0);function d(e){let{children:t}=e,[r,a]=(0,i.useState)(null),[d,h]=(0,i.useState)(!0),[f,m]=(0,i.useState)(null),x=(0,s.useRouter)(),g=(0,s.usePathname)();(0,i.useEffect)(()=>{if(!o.auth){h(!1);return}let e=(0,u.Aj)(o.auth,e=>{a(e),h(!1),e&&x.refresh()});return()=>e()},[x]),(0,i.useEffect)(()=>{!d&&!r&&!c(g)&&g&&g.startsWith("/dashboard")&&x.push("/login")},[r,d,g,x]);let p=async(e,t)=>{if(!o.auth)throw Error("Auth is not configured. Add Firebase keys to .env.");try{await (0,u.e5)(o.auth,e,t)}catch(e){throw console.error("Sign in error:",e),e}},y=async(e,t,r)=>{if(!o.auth)throw Error("Auth is not configured. Add Firebase keys to .env.");try{let{user:r}=await (0,u.Xb)(o.auth,e,t)}catch(e){throw console.error("Sign up error:",e),e}},v=async()=>{if(o.auth)try{await (0,u.w7)(o.auth)}catch(e){throw console.error("Sign out error:",e),e}},b=async e=>{if(!o.auth)throw Error("Auth is not configured. Add Firebase keys to .env.");try{let t=new u.lI(o.auth,"recaptcha-container",{size:"invisible"}),r=await (0,u.$g)(o.auth,e,t);m(r)}catch(e){throw console.error("Phone sign in error:",e),e}},w=async e=>{if(!o.auth)throw Error("Auth is not configured. Add Firebase keys to .env.");try{if(!f)throw Error("No pending confirmation found");await f.confirm(e)}catch(e){throw console.error("OTP verification error:",e),e}};return(0,n.jsx)(l.Provider,{value:{user:r,isLoading:d,signIn:p,signUp:y,signOut:v,signInWithOtp:b,verifyOtp:w},children:t})}function h(){let e=(0,i.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function f(e){let{children:t,fallback:r}=e,{user:o,isLoading:a}=h(),u=(0,s.useRouter)(),l=(0,s.usePathname)();return((0,i.useEffect)(()=>{a||o||c(l)||u.push("/login")},[o,a,l,u]),a)?r||(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):o?(0,n.jsx)(n.Fragment,{children:t}):null}},54257:function(e,t,r){"use strict";r.d(t,{auth:function(){return l}});var n=r(738),i=r(43301),s=r(5978),o=r(60062),a=r(40257);let c={apiKey:a.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:a.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:a.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:a.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:a.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:a.env.NEXT_PUBLIC_FIREBASE_APP_ID,measurementId:a.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},u=null,l=null;if(function(){let e=a.env.NEXT_PUBLIC_FIREBASE_API_KEY;return!!e&&"your-api-key"!==e&&!e.startsWith("your-")}())try{u=(0,n.C6)().length>0?(0,n.Mq)():(0,n.ZF)(c),l=(0,i.v0)(u),(0,s.ad)(u),(0,o.cF)(u)}catch(e){}},94508:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(61994),i=r(53335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m6)((0,n.W)(t))}},94766:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},97685:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]])},41169:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("gavel",[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]])},73247:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},98728:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},40257:function(e,t,r){"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(44227)},44227:function(e){!function(){var t={229:function(e){var t,r,n,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c=[],u=!1,l=-1;function d(){u&&n&&(u=!1,n.length?c=n.concat(c):l=-1,c.length&&h())}function h(){if(!u){var e=a(d);u=!0;for(var t=c.length;t;){for(n=c,c=[];++l<t;)n&&n[l].run();l=-1,t=c.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}},o=!0;try{t[e](s,s.exports,n),o=!1}finally{o&&delete r[e]}return s.exports}n.ab="//";var i=n(229);e.exports=i}()}},function(e){e.O(0,[358,990,972,933,302,971,117,744],function(){return e(e.s=79257)}),_N_E=e.O()}]);