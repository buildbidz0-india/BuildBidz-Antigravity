(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663,257],{79257:function(e,t,r){Promise.resolve().then(r.bind(r,50654))},50654:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(57437),s=r(27648),i=r(99376),a=r(79205);let o=(0,a.Z)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var c=r(97685),l=r(41169),u=r(98728);let d=(0,a.Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),h=(0,a.Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),f=(0,a.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var m=r(2265),x=r(58711),p=r(94508);let g=[{name:"Dashboard",href:"/dashboard",icon:o},{name:"Projects",href:"/dashboard/projects",icon:c.Z},{name:"Bids",href:"/dashboard/bids",icon:l.Z},{name:"Settings",href:"/dashboard/settings",icon:u.Z}];function y(){let e=(0,i.usePathname)(),{signOut:t}=(0,x.a)(),[r,a]=(0,m.useState)(!1);return(0,n.jsxs)("aside",{className:(0,p.cn)("h-screen bg-white border-r border-gray-200 transition-all duration-300 flex flex-col",r?"w-20":"w-64"),children:[(0,n.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[!r&&(0,n.jsxs)("h1",{className:"text-2xl font-bold tracking-tight",children:["Build",(0,n.jsx)("span",{className:"text-orange-600",children:"Bidz"})]}),(0,n.jsx)("button",{onClick:()=>a(!r),className:"p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100 text-gray-500",children:r?(0,n.jsx)(d,{size:20}):(0,n.jsx)(h,{size:20})})]}),(0,n.jsx)("nav",{className:"flex-1 px-4 space-y-1 mt-4",children:g.map(t=>{let i=e===t.href;return(0,n.jsxs)(s.default,{href:t.href,className:(0,p.cn)("flex items-center py-3 px-3 rounded-xl transition-all duration-200 group",i?"bg-orange-50 text-orange-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,n.jsx)(t.icon,{size:22,className:(0,p.cn)("transition-colors",i?"text-orange-600":"text-gray-400 group-hover:text-gray-600")}),!r&&(0,n.jsx)("span",{className:"ml-3 font-medium",children:t.name})]},t.href)})}),(0,n.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,n.jsxs)("button",{onClick:()=>t(),className:(0,p.cn)("flex items-center w-full py-3 px-3 rounded-xl text-gray-600 hover:bg-red-50 hover:text-red-600 transition-all duration-200"),children:[(0,n.jsx)(f,{size:22}),!r&&(0,n.jsx)("span",{className:"ml-3 font-medium",children:"Log Out"})]})})]})}var v=r(73247),b=r(94766);function w(e){var t,r,s,i,a;let{children:o}=e,{user:c}=(0,x.a)(),l=null!==(r=null!==(t=null==c?void 0:c.displayName)&&void 0!==t?t:null==c?void 0:c.email)&&void 0!==r?r:"User",u=function(e,t){if(e&&e.trim()){let t=e.trim().split(/\s+/);return t.length>=2?(t[0][0]+t[t.length-1][0]).toUpperCase():e.slice(0,2).toUpperCase()}return t&&t.trim()?t.split("@")[0].slice(0,2).toUpperCase():"?"}(null!==(s=null==c?void 0:c.displayName)&&void 0!==s?s:null,null!==(i=null==c?void 0:c.email)&&void 0!==i?i:null);return(0,n.jsx)(x.i,{children:(0,n.jsxs)("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[(0,n.jsx)(y,{}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,n.jsxs)("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-8 z-10",children:[(0,n.jsxs)("div",{className:"relative w-96",children:[(0,n.jsx)("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:(0,n.jsx)(v.Z,{size:18})}),(0,n.jsx)("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-200 rounded-xl leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:bg-white focus:ring-1 focus:ring-orange-500 focus:border-orange-500 sm:text-sm transition-all",placeholder:"Search projects, bids, drawings..."})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-50 transition-colors relative",children:[(0,n.jsx)(b.Z,{size:20}),(0,n.jsx)("span",{className:"absolute top-2 right-2 block h-2 w-2 rounded-full bg-orange-600 ring-2 ring-white"})]}),(0,n.jsx)("div",{className:"h-8 w-px bg-gray-200 mx-2"}),(0,n.jsxs)("button",{className:"flex items-center space-x-3 p-1.5 rounded-xl hover:bg-gray-50 transition-colors",children:[(0,n.jsx)("div",{className:"h-8 w-8 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 font-bold text-sm",children:u}),(0,n.jsxs)("div",{className:"hidden md:block text-left",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-gray-900 leading-none truncate max-w-[140px]",children:l}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate max-w-[140px]",children:null!==(a=null==c?void 0:c.email)&&void 0!==a?a:"Administrator"})]})]})]})]}),(0,n.jsx)("main",{className:"flex-1 overflow-y-auto p-8",children:o})]})]})})}},58711:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return d},i:function(){return f},a:function(){return h}});var n=r(57437),s=r(2265),i=r(99376),a=r(54257);let o=["/","/login","/signup","/docs"];function c(e){return!e||o.some(t=>e===t||e.startsWith(t+"/"))}var l=r(43301);let u=(0,s.createContext)(void 0);function d(e){let{children:t}=e,[r,o]=(0,s.useState)(null),[d,h]=(0,s.useState)(!0),[f,m]=(0,s.useState)(null),x=(0,i.useRouter)(),p=(0,i.usePathname)();(0,s.useEffect)(()=>{let e=(0,l.Aj)(a.auth,e=>{o(e),h(!1),e&&x.refresh()});return()=>e()},[x]),(0,s.useEffect)(()=>{!d&&!r&&!c(p)&&p&&p.startsWith("/dashboard")&&x.push("/login")},[r,d,p,x]);let g=async(e,t)=>{try{await (0,l.e5)(a.auth,e,t)}catch(e){throw console.error("Sign in error:",e),e}},y=async(e,t,r)=>{try{let{user:r}=await (0,l.Xb)(a.auth,e,t)}catch(e){throw console.error("Sign up error:",e),e}},v=async()=>{try{await (0,l.w7)(a.auth)}catch(e){throw console.error("Sign out error:",e),e}},b=async e=>{try{let t=new l.lI(a.auth,"recaptcha-container",{size:"invisible"}),r=await (0,l.$g)(a.auth,e,t);m(r)}catch(e){throw console.error("Phone sign in error:",e),e}},w=async e=>{try{if(!f)throw Error("No pending confirmation found");await f.confirm(e)}catch(e){throw console.error("OTP verification error:",e),e}};return(0,n.jsx)(u.Provider,{value:{user:r,isLoading:d,signIn:g,signUp:y,signOut:v,signInWithOtp:b,verifyOtp:w},children:t})}function h(){let e=(0,s.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function f(e){let{children:t,fallback:r}=e,{user:a,isLoading:o}=h(),l=(0,i.useRouter)(),u=(0,i.usePathname)();return((0,s.useEffect)(()=>{o||a||c(u)||l.push("/login")},[a,o,u,l]),o)?r||(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):a?(0,n.jsx)(n.Fragment,{children:t}):null}},54257:function(e,t,r){"use strict";r.d(t,{auth:function(){return u}});var n=r(738),s=r(43301),i=r(5978),a=r(60062),o=r(40257);let c={apiKey:o.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:o.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:o.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:o.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:o.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:o.env.NEXT_PUBLIC_FIREBASE_APP_ID,measurementId:o.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},l=(0,n.C6)().length>0?(0,n.Mq)():(0,n.ZF)(c),u=(0,s.v0)(l);(0,i.ad)(l),(0,a.cF)(l)},94508:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var n=r(61994),s=r(53335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}},94766:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},97685:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]])},41169:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("gavel",[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]])},73247:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},98728:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},40257:function(e,t,r){"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(44227)},44227:function(e){!function(){var t={229:function(e){var t,r,n,s=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c=[],l=!1,u=-1;function d(){l&&n&&(l=!1,n.length?c=n.concat(c):u=-1,c.length&&h())}function h(){if(!l){var e=o(d);l=!0;for(var t=c.length;t;){for(n=c,c=[];++u<t;)n&&n[u].run();u=-1,t=c.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||l||o(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,n),a=!1}finally{a&&delete r[e]}return i.exports}n.ab="//";var s=n(229);e.exports=s}()}},function(e){e.O(0,[358,990,972,933,302,971,117,744],function(){return e(e.s=79257)}),_N_E=e.O()}]);