(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{2410:function(e,t,a){Promise.resolve().then(a.bind(a,11536))},11536:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return K}});var r=a(57437),s=a(2265),l=a(27648),i=a(60429),n=a(97685),o=a(70525),d=a(91723),c=a(49322),x=a(64972),m=a(47625),u=a(77031),p=a(56940),h=a(97059),g=a(62994),b=a(8147),f=a(22190),y=a(83046);let j=[{name:"Larsen & Toubro",price:98,score:92,delivery:95},{name:"Tata Projects",price:95,score:88,delivery:90},{name:"NCC Ltd",price:85,score:78,delivery:75},{name:"Shapoorji",price:92,score:85,delivery:88}];function v(e){var t,a;let{decision:s,loading:l}=e,i=(null!==(a=null==s?void 0:null===(t=s.rankings)||void 0===t?void 0:t.map(e=>{var t,a,r,s,l;return{name:null!==(a=e.supplier)&&void 0!==a?a:"",score:Number(null!==(s=null!==(r=e.total_score)&&void 0!==r?r:e.score)&&void 0!==s?s:0),price:null!==(l=null===(t=e.breakdown)||void 0===t?void 0:t.price)&&void 0!==l?l:void 0}}))&&void 0!==a?a:j).map(e=>{var t;return{...e,price:null!==(t=e.price)&&void 0!==t?t:e.score}});return(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm h-full flex flex-col p-6",children:[(0,r.jsxs)("div",{className:"mb-6 space-y-1",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-900 tracking-tight",children:"Bid Analysis"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"AI-driven evaluation based on Price, Delivery & Reputation"})]}),(0,r.jsx)("div",{className:"flex-1 min-h-[300px] w-full",children:l?(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,r.jsx)(m.h,{width:"100%",height:"100%",children:(0,r.jsxs)(u.v,{data:i,margin:{top:10,right:10,left:-20,bottom:0},barGap:2,children:[(0,r.jsx)(p.q,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),(0,r.jsx)(h.K,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:11},dy:10}),(0,r.jsx)(g.B,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:11}}),(0,r.jsx)(b.u,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"8px",border:"1px solid #e2e8f0",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),(0,r.jsx)(f.D,{wrapperStyle:{paddingTop:"20px"}}),(0,r.jsx)(y.$,{dataKey:"score",name:"AI Score",fill:"#0f172a",radius:[4,4,0,0],barSize:24}),(0,r.jsx)(y.$,{dataKey:"price",name:"Price Competitiveness",fill:"#cbd5e1",radius:[4,4,0,0],barSize:24})]})})}),(null==s?void 0:s.justification)&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-orange-50/50 border border-orange-100 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("div",{className:"h-2 w-2 rounded-full bg-orange-500"}),(0,r.jsx)("p",{className:"text-xs font-bold text-orange-700 uppercase tracking-wider",children:"AI Insight"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed font-medium",children:s.justification})]})]})}var N=a(5481),w=a(23263),k=a(54061),_=a(29116);let S=[{value:"steel",label:"Steel (TMT)"},{value:"cement",label:"Cement"},{value:"sand",label:"Sand"},{value:"tiles",label:"Tiles"},{value:"fittings",label:"Fittings"}],C=[{value:"delhi_ncr",label:"Delhi NCR"},{value:"patna",label:"Patna"},{value:"lucknow",label:"Lucknow"},{value:"indore",label:"Indore"}];function A(){var e,t;let[a,l]=(0,s.useState)("steel"),[i,n]=(0,s.useState)("delhi_ncr"),[o,d]=(0,s.useState)(null),[c,x]=(0,s.useState)(!0);(0,s.useEffect)(()=>{x(!0),_.Ai.analyze({material:a,region:i,quantity:10}).then(d).catch(()=>d(null)).finally(()=>x(!1))},[a,i]);let u=null!==(t=null==o?void 0:null===(e=o.historical_data)||void 0===e?void 0:e.map(e=>({month:new Date(e.date).toLocaleDateString("en-IN",{month:"short",day:"numeric"}),actual:e.price,forecast:null})))&&void 0!==t?t:[],y=u.length&&o?[...u,{month:"30d f/c",actual:null,forecast:o.forecast_price_30d}]:u;if(c)return(0,r.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm h-full",children:[(0,r.jsx)("div",{className:"mb-6 flex justify-between items-start",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Price Forecast"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Trend analysis & AI lock recommendation"})]})}),(0,r.jsx)("div",{className:"h-[300px] flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-orange-600"})})]});let j=(null==o?void 0:o.lock_rate_recommendation)?(0,r.jsx)("span",{className:"bg-amber-100 text-amber-800 text-xs font-bold px-2 py-1 rounded-md border border-amber-200",children:"LOCK NOW"}):(0,r.jsx)("span",{className:"bg-emerald-100 text-emerald-700 text-xs font-bold px-2 py-1 rounded-md border border-emerald-200",children:"WAIT"});return(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm h-full flex flex-col p-6",children:[(0,r.jsxs)("div",{className:"mb-6 flex flex-wrap items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-900 tracking-tight",children:"Price Forecast"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Market Trend Analysis"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,r.jsx)("select",{value:a,onChange:e=>l(e.target.value),className:"text-sm h-9 border border-input rounded-md px-3 bg-background hover:bg-accent/5 focus:ring-2 focus:ring-ring focus:border-input transition-colors cursor-pointer",children:S.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,r.jsx)("select",{value:i,onChange:e=>n(e.target.value),className:"text-sm h-9 border border-input rounded-md px-3 bg-background hover:bg-accent/5 focus:ring-2 focus:ring-ring focus:border-input transition-colors cursor-pointer",children:C.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))}),o&&j]})]}),(0,r.jsx)("div",{className:"flex-1 min-h-[300px] w-full",children:c?(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,r.jsx)(m.h,{width:"100%",height:"100%",children:(0,r.jsxs)(N.T,{data:y,margin:{top:10,right:10,left:-20,bottom:0},children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"colorForecast",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,r.jsx)("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.15}),(0,r.jsx)("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),(0,r.jsx)(p.q,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),(0,r.jsx)(h.K,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:11},dy:10}),(0,r.jsx)(g.B,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:11},domain:["dataMin - 500","dataMax + 500"]}),(0,r.jsx)(b.u,{contentStyle:{borderRadius:"8px",border:"1px solid #e2e8f0",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),(0,r.jsx)(f.D,{wrapperStyle:{paddingTop:"20px"}}),(0,r.jsx)(w.u,{type:"monotone",dataKey:"actual",name:"Current Price",stroke:"#0f172a",strokeWidth:2,fill:"transparent"}),(null==o?void 0:o.forecast_price_30d)!=null&&(0,r.jsx)(k.x,{type:"monotone",dataKey:"forecast",name:"AI Forecast",stroke:"#f97316",strokeWidth:2,strokeDasharray:"4 4",dot:{r:4,fill:"#f97316",strokeWidth:0},connectNulls:!0})]})})}),(null==o?void 0:o.ai_analysis)&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 border border-gray-100 rounded-lg",children:[(0,r.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"AI Analysis"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed font-medium",children:o.ai_analysis})]})]})}var z=a(38793),P=a(53869),T=a(5095),E=a(32489),L=a(44743),D=a(30401),Z=a(78867),M=a(69064);function I(e){var t,a,l,n,o;let{isOpen:d,onClose:c,defaultProjectName:x=""}=e,[m,u]=(0,s.useState)({contractor_name:"",phone_number:"",language:"hinglish",step:"award_notification",project_name:x,details:{message:"Aapka bid accept ho gaya hai. Site par milte hain."}}),[p,h]=(0,s.useState)(null),[g,b]=(0,s.useState)(!1),[f,y]=(0,s.useState)(!1),j=async e=>{var t,a,r;if(e.preventDefault(),!(null===(t=m.contractor_name)||void 0===t?void 0:t.trim())||!(null===(a=m.phone_number)||void 0===a?void 0:a.trim())||!(null===(r=m.project_name)||void 0===r?void 0:r.trim())){M.Am.error("Fill contractor name, phone, and project name.");return}b(!0),h(null);try{let e=await _.jb.send(m);h(e),M.Am.success("Message generated.")}catch(e){M.Am.error(e instanceof Error?e.message:"Failed to generate notification.")}finally{b(!1)}};return(0,r.jsx)(T.M,{children:d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:c,className:"fixed inset-0 bg-black/50 z-40"}),(0,r.jsxs)(i.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-lg bg-white rounded-2xl shadow-xl z-50 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Send notification"}),(0,r.jsx)("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,r.jsx)(E.Z,{size:20})})]}),(0,r.jsxs)("form",{onSubmit:j,className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contractor name"}),(0,r.jsx)("input",{type:"text",value:null!==(t=m.contractor_name)&&void 0!==t?t:"",onChange:e=>u(t=>({...t,contractor_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone number"}),(0,r.jsx)("input",{type:"text",value:null!==(a=m.phone_number)&&void 0!==a?a:"",onChange:e=>u(t=>({...t,phone_number:e.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm",placeholder:"+91..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project name"}),(0,r.jsx)("input",{type:"text",value:null!==(l=m.project_name)&&void 0!==l?l:"",onChange:e=>u(t=>({...t,project_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),(0,r.jsxs)("select",{value:null!==(n=m.language)&&void 0!==n?n:"hinglish",onChange:e=>u(t=>({...t,language:e.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm",children:[(0,r.jsx)("option",{value:"english",children:"English"}),(0,r.jsx)("option",{value:"hindi",children:"Hindi"}),(0,r.jsx)("option",{value:"hinglish",children:"Hinglish"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notification type"}),(0,r.jsxs)("select",{value:null!==(o=m.step)&&void 0!==o?o:"award_notification",onChange:e=>u(t=>({...t,step:e.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm",children:[(0,r.jsx)("option",{value:"award_notification",children:"Award notification"}),(0,r.jsx)("option",{value:"site_ready",children:"Site ready"}),(0,r.jsx)("option",{value:"payment_released",children:"Payment released"}),(0,r.jsx)("option",{value:"defect_notice",children:"Defect notice"})]})]}),(0,r.jsx)("button",{type:"submit",disabled:g,className:"w-full flex items-center justify-center gap-2 py-3 bg-orange-600 text-white rounded-xl font-semibold hover:bg-orange-700 disabled:opacity-50",children:g?"Generating...":(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L.Z,{size:18})," Generate message"]})})]}),p&&(0,r.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-gray-50",children:[(0,r.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"WhatsApp message"}),(0,r.jsx)("div",{className:"p-4 bg-white border border-gray-200 rounded-xl text-sm text-gray-800 whitespace-pre-wrap",children:p.whatsapp_formatted}),(0,r.jsxs)("button",{type:"button",onClick:()=>{(null==p?void 0:p.whatsapp_formatted)&&(navigator.clipboard.writeText(p.whatsapp_formatted),y(!0),M.Am.success("Copied to clipboard."),setTimeout(()=>y(!1),2e3))},className:"mt-3 flex items-center gap-2 text-orange-600 hover:text-orange-700 text-sm font-medium",children:[f?(0,r.jsx)(D.Z,{size:16}):(0,r.jsx)(Z.Z,{size:16}),f?"Copied":"Copy to clipboard"]})]})]})]})})}let F=[{id:"b1",supplier_name:"Larsen & Toubro",price:148e4,delivery_days:21,reputation_score:9.2},{id:"b2",supplier_name:"Tata Projects",price:152e4,delivery_days:18,reputation_score:8.8},{id:"b3",supplier_name:"NCC Ltd",price:142e4,delivery_days:28,reputation_score:7.5},{id:"b4",supplier_name:"Shapoorji",price:155e4,delivery_days:20,reputation_score:8.5}],O=[{label:"Active Projects",key:"active",icon:n.Z,trend:"From projects",color:"text-blue-600",bg:"bg-blue-50"},{label:"Total Projects",key:"total",icon:o.Z,trend:"All projects",color:"text-green-600",bg:"bg-green-50"},{label:"Planning",key:"planning",icon:d.Z,trend:"In planning",color:"text-orange-600",bg:"bg-orange-50"},{label:"Alerts",value:"—",icon:c.Z,trend:"Requires attention",color:"text-red-600",bg:"bg-red-50"}];function K(){let[e,t]=(0,s.useState)(!1),[a,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(null),[m,u]=(0,s.useState)([]),[p,h]=(0,s.useState)(!0),[g,b]=(0,s.useState)(!0),[f,y]=(0,s.useState)(null),[j,N]=(0,s.useState)(!0),[w,k]=(0,s.useState)(!1),S=()=>{h(!0),b(!0),_.qx.stats().then(c).catch(()=>c(null)).finally(()=>h(!1)),_.qx.list().then(e=>u(e.slice(0,5))).catch(()=>u([])).finally(()=>b(!1))};(0,s.useEffect)(()=>{S()},[a]),(0,s.useEffect)(()=>{N(!0),_.QU.compare("TMT Steel supply for Phase 1",F).then(y).catch(()=>y(null)).finally(()=>N(!1))},[]);let C=e=>{var t;return"value"in e&&null!=e.value?e.value:d&&"key"in e&&e.key?String(null!==(t=d[e.key])&&void 0!==t?t:"0"):"—"};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex items-end justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Overview"}),(0,r.jsx)("p",{className:"text-gray-500 mt-1",children:"Welcome back, here's what's happening today."})]}),(0,r.jsx)("button",{onClick:()=>o(!0),className:"bg-orange-600 text-white px-4 py-2 rounded-xl font-medium hover:bg-orange-700 transition-colors shadow-lg shadow-orange-200",children:"New Project"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p?O.map((e,t)=>(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[(0,r.jsx)("div",{className:"w-12 h-12 ".concat(e.bg," rounded-xl mb-4 animate-pulse bg-gray-200")}),(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:e.label}),(0,r.jsxs)("div",{className:"flex items-baseline space-x-2 mt-1",children:[(0,r.jsx)("span",{className:"h-8 w-12 bg-gray-200 rounded animate-pulse inline-block"}),(0,r.jsx)("span",{className:"text-xs font-medium text-gray-400",children:e.trend})]})]},e.label)):O.map((e,t)=>(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[(0,r.jsx)("div",{className:"w-12 h-12 ".concat(e.bg," ").concat(e.color," rounded-xl flex items-center justify-center mb-4 text-2xl"),children:(0,r.jsx)(e.icon,{size:24})}),(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:e.label}),(0,r.jsxs)("div",{className:"flex items-baseline space-x-2 mt-1",children:[(0,r.jsx)("h3",{className:"text-3xl font-bold text-gray-900",children:C(e)}),(0,r.jsx)("span",{className:"text-xs font-medium text-gray-400",children:e.trend})]})]},e.label))}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsx)(i.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:(0,r.jsx)(v,{decision:f,loading:j})}),(0,r.jsx)(i.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:(0,r.jsx)(A,{})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Recent Activity"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"flex items-center text-xs text-orange-600 bg-orange-50 px-2 py-1 rounded-full font-semibold",children:[(0,r.jsx)(x.Z,{size:14,className:"mr-1"})," AI Prioritized"]}),(0,r.jsx)(l.default,{href:"/dashboard/projects",className:"text-orange-600 text-sm font-medium hover:underline",children:"View all"})]})]}),(0,r.jsx)("div",{className:"divide-y divide-gray-50",children:g?[void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("div",{className:"p-6 flex items-start space-x-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-lg animate-pulse flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,r.jsx)("div",{className:"h-4 w-3/4 bg-gray-200 rounded animate-pulse"}),(0,r.jsx)("div",{className:"h-3 w-1/2 bg-gray-100 rounded animate-pulse"})]})]},t)):0===m.length?(0,r.jsx)("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No recent projects. Create one to see activity here."}):m.map(e=>(0,r.jsxs)(l.default,{href:"/dashboard/projects/".concat(e.id),className:"block p-6 flex items-start space-x-4 hover:bg-gray-50/50 transition-colors",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gray-50 rounded-lg flex items-center justify-center text-gray-400 flex-shrink-0",children:(0,r.jsx)(n.Z,{size:20})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-gray-900 font-medium truncate",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[function(e){if(!e)return"Recently";let t=new Date(e),a=new Date().getTime()-t.getTime(),r=Math.floor(a/6e4),s=Math.floor(a/36e5),l=Math.floor(a/864e5);return r<1?"Just now":r<60?"".concat(r," min ago"):s<24?"".concat(s," hour").concat(1!==s?"s":""," ago"):l<7?"".concat(l," day").concat(1!==l?"s":""," ago"):t.toLocaleDateString()}(e.created_at)," \xb7 ",e.status]})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-8 text-white shadow-xl shadow-orange-100 relative overflow-hidden flex flex-col justify-between",children:[(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mb-4",children:(0,r.jsx)(x.Z,{size:24})}),(0,r.jsx)("h3",{className:"text-xl font-bold mb-2",children:"AI Copilot"}),(0,r.jsx)("p",{className:"opacity-90 mb-6 text-sm leading-relaxed",children:"I can help you analyze bids, forecast material trends, or draft contractor notifications."})]}),(0,r.jsxs)("div",{className:"relative z-10 space-y-3",children:[(0,r.jsx)("button",{onClick:()=>t(!0),className:"w-full bg-white text-orange-600 px-6 py-3 rounded-xl font-bold hover:bg-orange-50 transition-colors shadow-md text-sm",children:"Ask Copilot"}),(0,r.jsx)("button",{onClick:()=>t(!0),className:"w-full bg-orange-700/30 text-white border border-white/20 px-6 py-3 rounded-xl font-bold hover:bg-orange-700/50 transition-colors text-sm",children:"Analyze Market"}),(0,r.jsx)("button",{onClick:()=>k(!0),className:"w-full bg-orange-700/30 text-white border border-white/20 px-6 py-3 rounded-xl font-bold hover:bg-orange-700/50 transition-colors text-sm",children:"Send notification"})]}),(0,r.jsx)("div",{className:"absolute -bottom-4 -right-4 opacity-10",children:(0,r.jsx)(n.Z,{size:160})})]})]}),(0,r.jsx)(z.Z,{projectId:"dashboard",isOpen:e,onClose:()=>t(!1)}),(0,r.jsx)(P.Z,{isOpen:a,onClose:()=>o(!1)}),(0,r.jsx)(I,{isOpen:w,onClose:()=>k(!1)})]})}},53869:function(e,t,a){"use strict";a.d(t,{Z:function(){return x}});var r=a(57437),s=a(2265),l=a(5095),i=a(60429),n=a(97685),o=a(32489),d=a(69064),c=a(29116);function x(e){let{isOpen:t,onClose:a,onSuccess:x}=e,[m,u]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[f,y]=(0,s.useState)(!1),j=async e=>{if(e.preventDefault(),m.trim()){y(!0);try{await c.qx.create({name:m.trim(),location:p.trim()||void 0,description:g.trim()||void 0}),d.Am.success("Project created."),u(""),h(""),b(""),a(),null==x||x()}catch(e){d.Am.error(e instanceof Error?e.message:"Something went wrong.")}finally{y(!1)}}},v=()=>{f||a()};return(0,r.jsx)(l.M,{children:t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:v,className:"fixed inset-0 bg-black/50 z-50 backdrop-blur-sm"}),(0,r.jsxs)(i.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white rounded-2xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600",children:(0,r.jsx)(n.Z,{size:20})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-gray-900",children:"New Project"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Add a new construction project"})]})]}),(0,r.jsx)("button",{type:"button",onClick:v,disabled:f,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:(0,r.jsx)(o.Z,{size:20})})]}),(0,r.jsxs)("form",{onSubmit:j,className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"project-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project name *"}),(0,r.jsx)("input",{id:"project-name",type:"text",required:!0,value:m,onChange:e=>u(e.target.value),placeholder:"e.g. Mumbai Metro Extension",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"project-location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,r.jsx)("input",{id:"project-location",type:"text",value:p,onChange:e=>h(e.target.value),placeholder:"e.g. Mumbai, MH",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"project-desc",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,r.jsx)("textarea",{id:"project-desc",rows:3,value:g,onChange:e=>b(e.target.value),placeholder:"Brief description of the project...",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm resize-none"})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,r.jsx)("button",{type:"button",onClick:v,disabled:f,className:"flex-1 py-2.5 px-4 border border-gray-200 rounded-xl font-medium text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:f||!m.trim(),className:"flex-1 py-2.5 px-4 bg-orange-600 text-white rounded-xl font-medium hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating…":"Create Project"})]})]})]})]})})}}},function(e){e.O(0,[429,972,659,302,463,408,793,971,117,744],function(){return e(e.s=2410)}),_N_E=e.O()}]);